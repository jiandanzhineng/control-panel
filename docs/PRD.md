# 产品需求文档（PRD）：前端页面需求 v0.2

文档版本：v0.2  
更新时间：2025-10-26

—— 本文档聚焦前端页面的最小可用版本（MVP），不涉及具体代码实现 ——

## 1. 背景与目标
- 背景：本项目旨在构建一个“简单智能控制系统”的前端，提供基础的服务管理能力，并为后续设备数据展示打下页面结构基础。
- 目标：
  - 快速搭建三类页面的最小骨架（首页/服务管理/设备管理）。
  - 在服务管理页面实现对 mDNS 与 MQTT 服务的“启动/暂停”控制与状态展示。
  - 在启用 mDNS 前，必须先获取设备当前 IP 列表并让用户选择使用的 IP；IP 应在页面上直接展示，可通过“刷新”按钮更新。
  - 其他页面以空白占位，等待后续迭代扩展。

## 2. 范围（Scope）
- 包含：
  - 首页（空白页，含简单项目说明文案）。
  - 服务管理页面（控制 mDNS、MQTT 的启动与暂停，并展示基本状态与反馈；mDNS 启动前的 IP 选择与刷新）。
  - 设备管理页面（空白页，预留后续展示设备与 MQTT 相关数据）。
- 不包含：
  - 复杂导航与权限体系、主题切换、国际化。
  - 设备数据的实时订阅与图表展示、设备详情页、搜索与筛选。
  - 具体接口定义与实现细节、错误码约定。

## 3. 用户与场景
- 用户：系统操作人员、开发测试人员。
- 主要场景：
  - 查看系统说明（首页）。
  - 启动或暂停后端的 mDNS / MQTT 服务，并确认当前状态（服务管理）。
  - 在启用 mDNS 之前，先查看并选择设备 IP（服务管理）。
  - 为后续设备数据展示预留入口（设备管理）。

## 4. 页面需求
### 4.1 首页（当前需求：空白占位）
- 目标：说明“本项目为简单智能控制系统”，明确当前为占位页。
- 内容：
  - 标题与一句话说明（例如：“简单智能控制系统 - 前端占位页面”）。
  - 可选的占位提示（例如：“后续将提供系统概览与快速导航”）。
- 交互：无（当前版本不需要按钮或导航）。
- 验收标准：页面可正常加载并显示说明文案，无错误提示。

### 4.2 服务管理页面（mdns / mqtt 控制）
- 目标：为 mDNS 与 MQTT 服务提供“启动/暂停”操作，并展示基本运行状态；mDNS 启动需先选择设备 IP。
- 功能需求：
  - 模块分区：mDNS 服务、MQTT 服务各自独立模块。
  - mDNS 的 IP 列表展示：在页面上直接展示当前设备可用 IP 列表（无需点击“启动”即可看到）。
  - 刷新 IP：提供“刷新”按钮，重新获取设备当前 IP 列表并更新展示区。
  - IP 选择：用户在 IP 列表中选择一个作为 mDNS 启动所依据的 IP；未选择 IP 时“启动”按钮不可用并给出提示。
  - 操作按钮：对每个服务提供“启动”“暂停”两个动作（mDNS 的“启动”需基于已选择 IP；“暂停”不依赖 IP）。
  - 状态展示：显示当前服务状态（运行中 / 已停止 / 未知）；对于 mDNS，额外显示“当前使用的 IP”。
  - 操作反馈：对成功与失败进行明确反馈（提示信息/轻量提示）。
  - 状态刷新：支持手动刷新当前状态（可选，若后端有轮询或推送则作为后续优化）。
- 交互与文案：
  - 初始：显示“请选择要使用的本机 IP”与 IP 列表。
  - 启动前校验：未选择 IP 时禁用“启动”并提示“请先选择 IP”。
  - 刷新成功：提示“已更新 IP 列表”。刷新失败：提示“IP 列表获取失败，请稍后重试”。
  - 启动成功：显示“mDNS 已启动（IP：X.X.X.X）”并更新状态。
  - 暂停成功：显示“mDNS 已暂停”并更新状态。
  - 异常情况：显示错误提示与简单建议（如“请稍后重试”）。
- 技术接口（概述）：
  - 获取设备 IP 列表接口：用于在页面展示与刷新当前设备可用 IP。
  - mDNS 启动接口：需携带用户选择的 IP 作为参数。
  - mDNS 暂停接口：用于停止服务。
  - MQTT 启动/暂停接口与状态查询接口（概述，不涉及路径与参数细节）。
- 验收标准：
  - 进入页面后可直接看到当前设备 IP 列表；点击“刷新”能更新列表。
  - 未选择 IP 时无法启动 mDNS，并有明确提示。
  - 选择 IP 后可成功启动 mDNS，状态中展示“当前使用的 IP”。
  - 能够启动并暂停 MQTT 服务，状态展示与反馈准确。
  - 异常时给予用户可理解的提示，不出现页面崩溃。

### 4.3 设备管理页面（当前需求：空白占位）
- 目标：为后续展示 MQTT 相关的设备信息提供页面骨架。
- 内容：
  - 标题与占位说明（例如：“设备管理 - 后续将展示设备列表与状态”）。
- 交互：无（当前版本不需要列表或筛选）。
- 验收标准：页面可正常加载并显示占位文案，无错误提示。

## 5. 设计与体验（轻量）
- 风格：简洁明了、以可读性与操作清晰为主。
- 响应式：基础的自适应布局，确保常见桌面分辨率表现正常。
- 文案：统一使用简洁中文，提示直观。

## 6. 非功能性要求
- 可靠性：操作的成功/失败反馈明确，不出现前端未捕获异常。
- 性能：页面加载与状态查询保持轻量，不做重数据渲染。
- 可扩展性：结构清晰，便于后续新增设备数据、告警、日志等模块。

## 7. 上线范围与验收
- MVP（v0.2）范围：
  - 首页与设备管理页面的空白占位页。
  - 服务管理页面实现 mDNS/MQTT 的启动与暂停，并具备状态展示与操作反馈。
  - mDNS 在启动前支持 IP 列表展示、刷新与选择的完整交互流程。
- 验收：
  - 三个页面均可正常访问与渲染。
  - 服务管理页面的四个核心操作（mDNS 启动/暂停、MQTT 启动/暂停）可用且有反馈。
  - mDNS 的 IP 列表可展示与刷新；未选择 IP 时无法启动；选择后可启动并显示所用 IP。

